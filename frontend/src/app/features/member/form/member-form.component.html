<div class="w-75 mx-auto mt-5">
  <h1 data-testid="title">Member {{pageTitleKey() | translate}}</h1>

  <p class="fw-bold">
    {{ "MEMBER.FORM.PERSONAL_DETAILS" | translate }}
  </p>

  <form [formGroup]="memberForm" (ngSubmit)="onSubmit()" name="member">


        <app-input-field>
          <input type="text" formControlName="name" matInput>
        </app-input-field>

        <app-input-field>
          <input type="text" formControlName="lastName" matInput>
        </app-input-field>

        <app-input-field>
          <input type="text" formControlName="abbreviation" matInput>
        </app-input-field>

        <app-input-field>
          <input type="text" formControlName="birthDate" matInput>
        </app-input-field>

        <app-input-field>
          <input type="text" formControlName="dateOfHire" matInput>
        </app-input-field>


        <mat-form-field>
          <mat-label appPctsFormLabel/>
          <input type="text" formControlName="employmentState" matInput [matAutocomplete]="auto">
          <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
            @for (option of employmentStateFilteredOptions(); track option) {
              <mat-option [value]="option">{{displayEmploymentState(option)}}</mat-option>
            }
          </mat-autocomplete>
          <mat-error appPctsFormError/>
        </mat-form-field>


        <mat-form-field>
          <mat-label appPctsFormLabel/>
          <input type="text" formControlName="organisationUnit" matInput [matAutocomplete]="auto">
          <mat-autocomplete autoActiveFirstOption #auto="matAutocomplete">
            @for (option of employmentStateFilteredOptions(); track option) {
              <mat-option [value]="option">{{displayEmploymentState(option)}}</mat-option>
            }
          </mat-autocomplete>
          <mat-error appPctsFormError/>
        </mat-form-field>

    <div class="d-flex flex-row gap-3">
      <button mat-stroked-button type="button" [routerLink]="['/']">{{ "GENERAL.CANCEL" | translate }}</button>
      <button mat-flat-button color="primary" type="submit" data-testid="submit-button" [disabled]="!memberForm.valid"> {{submitButtonKey() | translate}} </button>
    </div>
  </form>
</div>

