@if (member(); as m) {
  <div class="p-4" data-testid="member-detail-view">
    <div class="w-50">

      <h1 class="mb-5">
        {{ m.firstName }} {{ m.lastName }}
      </h1>

      <div class="w-50 d-flex align-items-center justify-content-between mb-3 gap-3">
        <h2>
          {{ 'FORM.PERSONAL_DETAILS' | scopedTranslation }}
        </h2>

        <app-crud-button mode="edit"/>
      </div>

      <div class="d-flex justify-content-between flex-wrap mb-3">
        <span>
          <p class="mb-0">{{ 'ABBREVIATION' | scopedTranslation }}:</p>
          <p class="fw-bold">
            {{ m.abbreviation ? (m.abbreviation) : ('ATTRIBUTE_NULL' | scopedTranslation)}}
          </p>
        </span>

        <span>
          <p class="mb-0">{{ 'MEMBER.BIRTH_DATE' | scopedTranslation }}:</p>
          <p class="fw-bold">{{ m.birthDate | date: GLOBAL_DATE_FORMAT }}</p>
        </span>

        <span>
          <p class="mb-0">{{ 'MEMBER.DATE_OF_HIRE' | scopedTranslation }}:</p>
          <p class="fw-bold">
            {{ m.dateOfHire
            ? (m.dateOfHire | date: GLOBAL_DATE_FORMAT)
            : ('ATTRIBUTE_NULL' | scopedTranslation)
            }}
          </p>

        </span>

        <span>
          <p class="mb-0">{{ 'MEMBER.EMPLOYMENT_STATE' | scopedTranslation }}:</p>
          <p class="fw-bold">{{ 'MEMBER.EMPLOYMENT_STATUS_VALUES.' + m.employmentState | scopedTranslation }}</p>
        </span>

        <span>
          <p class="mb-0">{{ 'MEMBER.ORGANISATION_UNIT' | scopedTranslation }}:</p>
          <p class="fw-bold">
            @if (m.organisationUnit) {
              {{m.organisationUnit.name}}
            } @else {
              {{'ATTRIBUTE_NULL' | scopedTranslation}}
            }
          </p>
        </span>
      </div>
      <div class="d-flex justify-content-start gap-5">
        <span>
          <p class="mb-0">{{ 'MEMBER.BIRTH_DATE' | scopedTranslation }}:</p>
          <p class="fw-bold">{{ m.birthDate | date: GLOBAL_DATE_FORMAT }}</p>
        </span>
        <span>
          <p class="mb-0">{{ 'MEMBER.BIRTH_DATE' | scopedTranslation }}:</p>
          <p class="fw-bold">{{ m.birthDate | date: GLOBAL_DATE_FORMAT }}</p>
        </span>
      </div>
    </div>
    <div class="tab-content">
      <button
        type="button"
        class="tab"
        [class.active]="activeTab === viewState.CV"
        (click)="setTab(viewState.CV)">
        CV
      </button>

      <button
        type="button"
        class="tab"
        [class.active]="activeTab === viewState.CALC"
        (click)="setTab(viewState.CALC)">
        Calculation
      </button>
    </div>

    <div class="content-area">
      @switch (activeTab) {
        @case (viewState.CV) {
          <app-generic-table [columns]="userColumns" [data]="userData" />
          <app-generic-cv-content title="EDUCATION" />
          <app-generic-cv-content title="PROFESSIONAL_AND_LIFE_EXPERIENCE" />
          <app-generic-cv-content title="CERTIFICATES" />
          <app-generic-cv-content title="LEADERSHIP_EXPERIENCE" />
        }
        @case (viewState.CALC) {
          <span>calculation content ...</span>
        }
      }
    </div>
  </div>
}
