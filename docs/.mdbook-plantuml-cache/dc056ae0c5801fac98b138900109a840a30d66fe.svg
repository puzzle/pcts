<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" data-diagram-type="SEQUENCE" height="775px" preserveAspectRatio="none" style="width:1080px;height:775px;background:#FFFFFF;" version="1.1" viewBox="0 0 1080 775" width="1080px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="125.6641" style="stroke:#000000;stroke-width:1.5;" width="364.8296" x="231.9082" y="162.5625"/><rect fill="none" height="95.3984" style="stroke:#000000;stroke-width:1.5;" width="395.4004" x="590" y="345.3594"/><g><title>User</title><rect fill="#000000" fill-opacity="0.00000" height="613.2578" width="8" x="163.9551" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="167" x2="167" y1="81.2969" y2="694.5547"/></g><g><title>Controller</title><rect fill="#000000" fill-opacity="0.00000" height="613.2578" width="8" x="279.4946" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="282.9082" x2="282.9082" y1="81.2969" y2="694.5547"/></g><g><title>Mapper</title><rect fill="#000000" fill-opacity="0.00000" height="613.2578" width="8" x="464.4077" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="468.0073" x2="468.0073" y1="81.2969" y2="694.5547"/></g><g><title>Service</title><rect fill="#000000" fill-opacity="0.00000" height="613.2578" width="8" x="540.6787" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="543.8081" x2="543.8081" y1="81.2969" y2="694.5547"/></g><g><title>ValidationService</title><rect fill="#000000" fill-opacity="0.00000" height="613.2578" width="8" x="747.104" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="750.124" x2="750.124" y1="81.2969" y2="694.5547"/></g><g><title>PersistenceService</title><rect fill="#000000" fill-opacity="0.00000" height="613.2578" width="8" x="898.2422" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="902.084" x2="902.084" y1="81.2969" y2="694.5547"/></g><g><title>Repository</title><rect fill="#000000" fill-opacity="0.00000" height="613.2578" width="8" x="1025.9365" y="81.2969"/><line style="stroke:#181818;stroke-width:0.5;stroke-dasharray:5,5;" x1="1029.4004" x2="1029.4004" y1="81.2969" y2="694.5547"/></g><g class="participant participant-head" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="149" y="77.9951">User</text><ellipse cx="167.9551" cy="13.5" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M167.9551,21.5 L167.9551,48.5 M154.9551,29.5 L180.9551,29.5 M167.9551,48.5 L154.9551,63.5 M167.9551,48.5 L180.9551,63.5" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-tail" data-participant="User"><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="31.9102" x="149" y="706.5498">User</text><ellipse cx="167.9551" cy="718.3516" fill="#E2E2F0" rx="8" ry="8" style="stroke:#181818;stroke-width:0.5;"/><path d="M167.9551,726.3516 L167.9551,753.3516 M154.9551,734.3516 L180.9551,734.3516 M167.9551,753.3516 L154.9551,768.3516 M167.9551,753.3516 L180.9551,768.3516" fill="none" style="stroke:#181818;stroke-width:0.5;"/></g><g class="participant participant-head" data-participant="Controller"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.1729" x="241.9082" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.1729" x="248.9082" y="69.9951">Controller</text></g><g class="participant participant-tail" data-participant="Controller"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="83.1729" x="241.9082" y="693.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="69.1729" x="248.9082" y="713.5498">Controller</text></g><g class="participant participant-head" data-participant="Mapper"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66.8008" x="435.0073" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.8008" x="442.0073" y="69.9951">Mapper</text></g><g class="participant participant-tail" data-participant="Mapper"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="66.8008" x="435.0073" y="693.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="52.8008" x="442.0073" y="713.5498">Mapper</text></g><g class="participant participant-head" data-participant="Service"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.7412" x="511.8081" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="518.8081" y="69.9951">Service</text></g><g class="participant participant-tail" data-participant="Service"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="65.7412" x="511.8081" y="693.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="51.7412" x="518.8081" y="713.5498">Service</text></g><g class="participant participant-head" data-participant="ValidationService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.96" x="683.124" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.96" x="690.124" y="69.9951">ValidationService</text></g><g class="participant participant-tail" data-participant="ValidationService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="135.96" x="683.124" y="693.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="121.96" x="690.124" y="713.5498">ValidationService</text></g><g class="participant participant-head" data-participant="PersistenceService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="829.084" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="836.084" y="69.9951">PersistenceService</text></g><g class="participant participant-tail" data-participant="PersistenceService"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="146.3164" x="829.084" y="693.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="132.3164" x="836.084" y="713.5498">PersistenceService</text></g><g class="participant participant-head" data-participant="Repository"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89.0723" x="985.4004" y="50"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.0723" x="992.4004" y="69.9951">Repository</text></g><g class="participant participant-tail" data-participant="Repository"><rect fill="#E2E2F0" height="30.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="89.0723" x="985.4004" y="693.5547"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="75.0723" x="992.4004" y="713.5498">Repository</text></g><path d="M5,96.2969 L5,121.2969 L278,121.2969 L278,106.2969 L268,96.2969 L5,96.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M268,96.2969 L268,106.2969 L278,106.2969 L268,96.2969" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="252.6304" x="11" y="113.3638">A request comes through the REST API</text><g class="message" data-participant-1="User" data-participant-2="Controller"><polygon fill="#181818" points="271.4946,143.5625,281.4946,147.5625,271.4946,151.5625,275.4946,147.5625" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="167.9551" x2="277.4946" y1="147.5625" y2="147.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="91.5396" x="179.9551" y="142.4966">GET /resource</text></g><path d="M231.9082,162.5625 L301.3594,162.5625 L301.3594,169.6953 L291.3594,179.6953 L231.9082,179.6953 L231.9082,162.5625" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="125.6641" style="stroke:#000000;stroke-width:1.5;" width="364.8296" x="231.9082" y="162.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4512" x="246.9082" y="175.6294">opt</text><path d="M350,184.6953 L350,224.6953 L586,224.6953 L586,194.6953 L576,184.6953 L350,184.6953" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M576,184.6953 L576,194.6953 L586,194.6953 L576,184.6953" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="204.2295" x="356" y="201.7622">Sometimes a DTO/Model needs</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="215.7378" x="356" y="216.895">to be mapped to something else.</text><g class="message" data-participant-1="Controller" data-participant-2="Mapper"><polygon fill="#181818" points="456.4077,247.0938,466.4077,251.0938,456.4077,255.0938,460.4077,251.0938" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="283.4946" x2="462.4077" y1="251.0938" y2="251.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.9131" x="295.4946" y="246.0278">Transform DTO to model</text></g><g class="message" data-participant-1="Mapper" data-participant-2="Controller"><polygon fill="#181818" points="294.4946,276.2266,284.4946,280.2266,294.4946,284.2266,290.4946,280.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="288.4946" x2="467.4077" y1="280.2266" y2="280.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88.5625" x="331.6699" y="275.1606">Return model</text></g><g class="message" data-participant-1="Controller" data-participant-2="Service"><polygon fill="#181818" points="532.6787,297.2266,542.6787,301.2266,532.6787,305.2266,536.6787,301.2266" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="283.4946" x2="538.6787" y1="301.2266" y2="301.2266"/></g><g class="message" data-participant-1="Service" data-participant-2="ValidationService"><polygon fill="#181818" points="739.104,326.3594,749.104,330.3594,739.104,334.3594,743.104,330.3594" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="544.6787" x2="745.104" y1="330.3594" y2="330.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="182.4253" x="556.6787" y="325.2935">Validate if the request is OK</text></g><path d="M590,345.3594 L659.4512,345.3594 L659.4512,352.4922 L649.4512,362.4922 L590,362.4922 L590,345.3594" fill="#EEEEEE" style="stroke:#000000;stroke-width:1.5;"/><rect fill="none" height="95.3984" style="stroke:#000000;stroke-width:1.5;" width="395.4004" x="590" y="345.3594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="24.4512" x="605" y="358.4263">opt</text><path d="M600,367.4922 L600,407.4922 L901,407.4922 L901,377.4922 L891,367.4922 L600,367.4922" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M891,367.4922 L891,377.4922 L901,377.4922 L891,367.4922" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="280.249" x="606" y="384.5591">Optionally the validation service can check</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="230.7437" x="606" y="399.6919">certain conditions on the database.</text><g class="message" data-participant-1="ValidationService" data-participant-2="PersistenceService"><polygon fill="#181818" points="890.2422,414.7578,900.2422,418.7578,890.2422,422.7578,894.2422,418.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="751.104" x2="896.2422" y1="418.7578" y2="418.7578"/></g><g class="message" data-participant-1="PersistenceService" data-participant-2="ValidationService"><polygon fill="#181818" points="762.104,428.7578,752.104,432.7578,762.104,436.7578,758.104,432.7578" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="756.104" x2="901.2422" y1="432.7578" y2="432.7578"/></g><g class="message" data-participant-1="ValidationService" data-participant-2="Service"><polygon fill="#181818" points="555.6787,464.8906,545.6787,468.8906,555.6787,472.8906,551.6787,468.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="549.6787" x2="750.104" y1="468.8906" y2="468.8906"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="90.7969" x="602.4929" y="463.8247">Request is OK</text></g><g class="message" data-participant-1="Service" data-participant-2="PersistenceService"><polygon fill="#181818" points="890.2422,478.8906,900.2422,482.8906,890.2422,486.8906,894.2422,482.8906" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="544.6787" x2="896.2422" y1="482.8906" y2="482.8906"/></g><g class="message" data-participant-1="PersistenceService" data-participant-2="Repository"><polygon fill="#181818" points="1017.9365,508.0234,1027.9365,512.0234,1017.9365,516.0234,1021.9365,512.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="902.2422" x2="1023.9365" y1="512.0234" y2="512.0234"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="72.1538" x="930.0125" y="506.9575">Save to DB</text></g><g class="message" data-participant-1="Repository" data-participant-2="PersistenceService"><polygon fill="#181818" points="913.2422,522.0234,903.2422,526.0234,913.2422,530.0234,909.2422,526.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="907.2422" x2="1028.9365" y1="526.0234" y2="526.0234"/></g><g class="message" data-participant-1="PersistenceService" data-participant-2="Service"><polygon fill="#181818" points="555.6787,536.0234,545.6787,540.0234,555.6787,544.0234,551.6787,540.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="549.6787" x2="901.2422" y1="540.0234" y2="540.0234"/></g><g class="message" data-participant-1="Service" data-participant-2="Controller"><polygon fill="#181818" points="294.4946,550.0234,284.4946,554.0234,294.4946,558.0234,290.4946,554.0234" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="288.4946" x2="543.6787" y1="554.0234" y2="554.0234"/></g><g class="message" data-participant-1="Controller" data-participant-2="Mapper"><polygon fill="#181818" points="456.4077,579.1563,466.4077,583.1563,456.4077,587.1563,460.4077,583.1563" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="283.4946" x2="462.4077" y1="583.1563" y2="583.1563"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="160.9131" x="295.4946" y="578.0903">Transform model to DTO</text></g><g class="message" data-participant-1="Mapper" data-participant-2="Controller"><polygon fill="#181818" points="294.4946,608.2891,284.4946,612.2891,294.4946,616.2891,290.4946,612.2891" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;" x1="288.4946" x2="467.4077" y1="612.2891" y2="612.2891"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="76.2671" x="337.8176" y="607.2231">Return DTO</text></g><g class="message" data-participant-1="Controller" data-participant-2="User"><polygon fill="#181818" points="178.9551,637.4219,168.9551,641.4219,178.9551,645.4219,174.9551,641.4219" style="stroke:#181818;stroke-width:1;"/><line style="stroke:#181818;stroke-width:1;stroke-dasharray:2,2;" x1="172.9551" x2="282.4946" y1="641.4219" y2="641.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="47.7026" x="201.8735" y="636.356">200 OK</text></g><path d="M172,654.4219 L172,679.4219 L511,679.4219 L511,664.4219 L501,654.4219 L172,654.4219" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><path d="M501,654.4219 L501,664.4219 L511,664.4219 L501,654.4219" fill="#FEFFDD" style="stroke:#181818;stroke-width:0.5;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="318.0176" x="178" y="671.4888">The answer gets sent back through the REST API</text><!--SRC=[bLFBJiCm4BpxA_O7U8XZ3aZb8OHGrQeDt5rdcrXrxE1rY_XxTfqsfJG2aKlYpUpCUZocZVMTZhe5mlSjUeDJ9D8rJfojFHZq2QDIsgGGuPNasuU4u72T8ApXFlWKWtCO2vX050vAO4AB1Ac9OLit_4POF2vBcCoVbH8IkBWzwNnwBE4g8eLjDAXKw982Vh9Is35-ghkEjM7_B9a_MT7Gy53EhgQXGWSUiQ81amAi45ffh6H1qjDONmCwmikCGrzbaRmu3YJZzOe5b55xMeVOYf3mjAAL6th8pxqiC6sZtyDOGAbJuYN6dPLTxZ-azgQThNIomU-BnQ64ODVPm8Erbc3sCcRH6SVWnAoJgdRkCpFj1Y2VUJ-2qNpK3PhDq6Cm9csv6dnb1Kl0U6ddLhtIemwUZI1xcsCaIqcYzNsmy_Ae4Rs3eyI3LOiJQtwN7fTTO1V8SiG_2rZg7SevFzofO_bVR8U_tqh72AY_OfQ3amSeP-hNY0b0dSQBWNA_2hYvlXOpSZoYhPjyMVjV9HyYYtqmliP470AVOANDPlJ2VW40]--></g></svg>